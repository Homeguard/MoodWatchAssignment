<!DOCTYPE html>

<html lang="en"
   	xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"  >
     
<h:head>
	<h:outputStylesheet name="common-style.css" library="css" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
</h:head>
<h:body>
<h1>Manage Engines:</h1>

    <p:dataTable id="allEngines" name="allEngines" value="#{testbean.clients}" var="engine" styleClass="order-table" headerClass="order-table-header" tableStyle="width:auto">
        <p:column headerText="ID">
        <h:outputText value="#{engine.id}"></h:outputText>
        </p:column>
        
        <p:column headerText="Start">
        <h:form>
        	<p:commandLink value="Start engine" action="#{testbean.startClient(engine.id)}" update="allEngines"></p:commandLink>
        </h:form>
        </p:column> 
     
        <p:column headerText="Stop">
        <h:form>
        	<p:commandLink value="Stop engine" action="#{testbean.stopClient(engine.id)}" update="allEngines"></p:commandLink>
        </h:form>
        </p:column>
        
        <p:column headerText="Delete">
        <h:form>
        	<p:commandLink value="Delete engine" action="#{testbean.deleteClient(engine.id)}" update="allEngines"></p:commandLink>
        </h:form>
        </p:column>
         
        <p:column headerText="Status">
   		<h:outputText value="#{engine.status}">
   		</h:outputText>
        </p:column>
        
        <p:column headerText="Port">
  		<h:outputText value="#{engine.portNumber}">
  		</h:outputText>
        </p:column>
        
        <p:column headerText="IP">
        <h:outputText value="#{engine.ip}">
        </h:outputText>
        </p:column>
        
     </p:dataTable>
      
<br></br>
<h:form>
	<h:commandLink value="Back" action="/adminAccess.xhtml?faces-redirect=true"></h:commandLink>
</h:form>
</h:body>
</html>